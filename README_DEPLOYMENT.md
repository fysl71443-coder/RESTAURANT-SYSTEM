# Restaurant System - Deployment Guide

## üöÄ Production Deployment (Render)

### Key Files:
- **`Procfile`**: `web: gunicorn --worker-class sync --workers 1 --bind 0.0.0.0:$PORT wsgi:application`
- **`wsgi.py`**: Production WSGI entry point (blocks eventlet)
- **`requirements.txt`**: Production dependencies (no eventlet)
- **`build.sh`**: Build script for database setup

### Environment Variables (Set in Render Dashboard):
```
FLASK_ENV=production
USE_EVENTLET=0
SECRET_KEY=<auto-generated>
DATABASE_URL=<from-render-database>
BABEL_DEFAULT_LOCALE=ar
```

### Deployment Steps:
1. Push code to GitHub
2. Connect Render to your repository
3. Set environment variables in Render dashboard
4. Deploy automatically

## üõ†Ô∏è Development Setup

### Install Development Dependencies:
```bash
pip install -r requirements-dev.txt
```

### Run Development Server:
```bash
# With SocketIO support
python run_dev.py

# Or standard Flask
python app.py
```

## üîß Database Management

### Production:
```bash
# Migrations are handled in build.sh
python -m flask db upgrade
python create_user.py --default
```

### Development:
```bash
python -m flask db upgrade
python create_user.py
```

## ‚ö†Ô∏è Important Notes

1. **Production uses sync workers** - no eventlet/SocketIO
2. **Development uses eventlet** - full SocketIO support
3. **Database migrations** run automatically on deployment
4. **Admin user** created automatically (admin/admin123)

## üêõ Troubleshooting

### Common Issues:
- **eventlet errors**: Ensure `USE_EVENTLET=0` in production
- **Database errors**: Check DATABASE_URL format
- **Import errors**: Verify requirements.txt vs requirements-dev.txt

### Logs:
Check Render logs for detailed error messages.
