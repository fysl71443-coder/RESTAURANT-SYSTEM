{% extends 'base.html' %}
{% block title %}الإعدادات{% endblock %}
{% block content %}
<div class="container py-4">
  <h3>الإعدادات العامة</h3>
  <form method="post" class="row g-3">
    <input type="hidden" name="csrf_token" value="{{ csrf_token() }}"/>
    <div class="col-md-6">
      <label class="form-label">اسم الشركة</label>
      <input type="text" name="company_name" class="form-control" value="{{ s.company_name or '' }}">
    </div>
    <div class="col-md-6">
      <label class="form-label">الرقم الضريبي</label>
      <input type="text" name="tax_number" class="form-control" value="{{ s.tax_number or '' }}">
    </div>
    <div class="col-md-8">
      <label class="form-label">العنوان</label>
      <input type="text" name="address" class="form-control" value="{{ s.address or '' }}">
    </div>
    <div class="col-md-4">
      <label class="form-label">الهاتف</label>
      <input type="text" name="phone" class="form-control" value="{{ s.phone or '' }}">
    </div>
    <div class="col-md-6">
      <label class="form-label">البريد الإلكتروني</label>
      <input type="email" name="email" class="form-control" value="{{ s.email or '' }}">
    </div>
    <div class="col-md-3">
      <label class="form-label">نسبة VAT (%)</label>
      <input type="number" step="0.01" name="vat_rate" class="form-control" value="{{ s.vat_rate or 15 }}">
    </div>
    <div class="col-md-3">
      <label class="form-label">العملة</label>
      <input type="text" name="currency" class="form-control" value="{{ s.currency or 'SAR' }}">
    </div>
    <div class="col-md-3">
      <label class="form-label">سمة الواجهة الافتراضية</label>
      <select name="default_theme" class="form-select">
        <option value="light" {% if s.default_theme!='dark' %}selected{% endif %}>نهاري</option>
        <option value="dark" {% if s.default_theme=='dark' %}selected{% endif %}>ليلي</option>
      </select>
    </div>

    <div class="col-md-6">
      <label class="form-label">تسمية فرع Place India</label>
      <input type="text" name="place_india_label" class="form-control" value="{{ s.place_india_label or 'Place India' }}">
    </div>
    <div class="col-md-6">
      <label class="form-label">تسمية فرع China Town</label>
      <input type="text" name="china_town_label" class="form-control" value="{{ s.china_town_label or 'China Town' }}">
    </div>

    <hr class="my-4">
    <h4>إعدادات الإيصال والطباعة</h4>
    <div class="col-md-3">
      <label class="form-label">عرض الورق (مم)</label>
      <select name="receipt_paper_width" class="form-select">
        <option value="80" {% if s.receipt_paper_width=='80' %}selected{% endif %}>80mm</option>
        <option value="58" {% if s.receipt_paper_width=='58' %}selected{% endif %}>58mm</option>
      </select>
    </div>
    <div class="col-md-3">
      <label class="form-label">حجم الخط</label>
      <input type="number" name="receipt_font_size" class="form-control" value="{{ s.receipt_font_size or 12 }}">
    </div>
    <div class="col-md-6">
      <label class="form-label">رابط الشعار (Logo URL)</label>
      <input type="text" name="logo_url" class="form-control" value="{{ s.logo_url or '/static/chinese-logo.svg' }}">
    </div>
    <div class="col-md-6">
      <div class="form-check mt-4">
        <input class="form-check-input" type="checkbox" name="receipt_show_logo" id="recLogo" {% if s.receipt_show_logo %}checked{% endif %}>
        <label class="form-check-label" for="recLogo">إظهار الشعار</label>
      </div>
      <div class="form-check">
        <input class="form-check-input" type="checkbox" name="receipt_show_tax_number" id="recTax" {% if s.receipt_show_tax_number %}checked{% endif %}>
        <label class="form-check-label" for="recTax">إظهار الرقم الضريبي</label>
      </div>
    </div>
    <div class="col-md-6">
      <label class="form-label">نص تذييل الإيصال</label>
      <input type="text" name="receipt_footer_text" class="form-control" value="{{ s.receipt_footer_text or '' }}">
    </div>

    <div class="col-12 d-flex justify-content-end gap-2">
      <a class="btn btn-secondary" href="{{ url_for('dashboard') }}">رجوع</a>
      <button class="btn btn-primary" type="submit">حفظ</button>
    </div>
  </form>
</div>
{% endblock %}
